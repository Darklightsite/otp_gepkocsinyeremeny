type: custom:mushroom-template-card
primary: OTP GÃ©pkocsinyeremÃ©ny
secondary: >-
  {% set count = states('sensor.otp_nyeremenyek')|int %}
  {% if count > 0 %}
  ðŸ† {{ count }} db nyeremÃ©ny!
  {% else %}
  Nincs nyeremÃ©ny ({{ state_attr('sensor.otp_nyeremenyek', 'figyelt_db') }} betÃ©t)
  {% endif %}
icon: >-
  {% if states('sensor.otp_nyeremenyek')|int > 0 %}mdi:trophy{% else %}mdi:car-convertible{% endif %}
icon_color: >-
  {% if states('sensor.otp_nyeremenyek')|int > 0 %}amber{% else %}blue{% endif %}
layout: vertical
multiline_secondary: true
tap_action:
  action: more-info
hold_action:
  action: call-service
  service: button.press
  target:
    entity_id: button.otp_betetek_adatbazis_frissitese
card_mod:
  style: |
    ha-card {
      background: {% if states('sensor.otp_nyeremenyek')|int > 0 %}rgba(255, 193, 7, 0.2){% else %}var(--card-background-color){% endif %};
    }
